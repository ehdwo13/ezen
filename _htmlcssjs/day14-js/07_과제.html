<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        button {
            width: 300px;
            height: 400px;
            font-size: 30px;
            cursor: pointer;
        }
        button>img {
            width: 280px;
            height: 280px;
            border: 1px solid gray;
        }
    </style>
</head>
<body>
    <button type="button" onclick="fight(1)"><img src="/image/scissors.png" alt="">가위 (1)</button>
    <button type="button" onclick="fight(2)"><img src="/image/rock.png" alt="">바위 (2)</button>
    <button type="button" onclick="fight(3)"><img src="/image/paper.png" alt="">보 (3)</button>
    <h3 id="result">

    </h3>
    <script>
        let win = 0;
        let draw = 0;
        let lose = 0;
        let count = 0;
        function pick() {
            return Math.floor(Math.random() * 3) + 1;
        }
        function fight(me){
            count++;
            let com = pick();
            let winPrint = "";
            if (me == 1 && com == 2 || me == 2 && com == 3 || me == 3 && com == 1) {
                lose++;
                winPrint = `player가 졌습니다.`;
            } else if (me == 1 && com == 3 || me == 2 && com == 1 || me == 3 && com == 2) {
                win++;
                winPrint = `player가 이겼습니다.`;
            } else {
                draw++;
                winPrint = `비겼습니다.`
            }
            let mePrint = (me == 1) ? "가위" : (me == 2) ? "바위" : "보";
            let comPrint = (com == 1) ? "가위" : (com == 2) ? "바위" : "보";
            let winRate = (win / count) * 100;
            let winRatePrint = winRate.toFixed(2);
            document.getElementById(`result`).innerText = 
            `player : ${mePrint} / com : ${comPrint} ${winPrint}
            현재 전적
            승 : ${win} / 무 : ${draw} / 패 : ${lose}
            승률 : ${winRatePrint}`;
        }
    </script>
</body>
</html>